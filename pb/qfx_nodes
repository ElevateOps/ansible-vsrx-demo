---
- name: Junos QFX Node Device Configuration
  hosts: qfx_nodes
  connection: local
  gather_facts: no
  vars:
    user: root
    passwd: None
    mode: node
    logfile: /usr/local/junos/log/qfx_nodes.log

  tasks:
    - name: QFX {{mode}}-mode
      junos_noob_qfx_node:
        name={{ inventory_hostname }}
        port='-t={{TERMSERV}},{{TERMSERVPORT}}'
        mode={{ mode }}
        logfile={{ logfile }}
        savedir={{ savedir }}
        user={{ user }}
        passwd={{ passwd }}
